@using HelloCoffeeApiClient.Areas.Shop.Data.Type
<nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
    <div class="position-sticky pt-3">
        <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
            <span>Drinks</span>
            <a class="link-secondary" href="/drinks" aria-label="Add a new report">
                <span data-feather="plus-circle"></span>
            </a>
        </h6>
        <ul class="nav flex-column">
            @foreach (var subCategory in drinks)
            {
                @if ((int)subCategory == CurrentSubCategory)
                {
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/shop/category/@((int)subCategory)">
                            <span data-feather="home"></span>
                            @(subCategory.ToString())
                        </a>
                    </li>
                }
                else
                {
                    <li class="nav-item">
                        <a class="nav-link" href="/shop/category/@((int)subCategory)">
                            <span data-feather="home"></span>
                            @(subCategory.ToString())
                        </a>
                    </li>
                }
            }
        </ul>

        <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
            <span>Food</span>
            <a class="link-secondary" href="#" aria-label="Add a new report">
                <span data-feather="plus-circle"></span>
            </a>
        </h6>
        <ul class="nav flex-column mb-2">
            @foreach (var subCategory in food)
            {
                @if ((int)subCategory == CurrentSubCategory)
                {
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/shop/category/@((int)subCategory)">
                            <span data-feather="home"></span>
                            @(subCategory.ToString())
                        </a>
                    </li>
                }
                else
                {
                    <li class="nav-item">
                        <a class="nav-link" href="/shop/category/@((int)subCategory)">
                            <span data-feather="home"></span>
                            @(subCategory.ToString())
                        </a>
                    </li>
                }
            }
        </ul>
    </div>
</nav>

@code {

    [Parameter] public int CurrentSubCategory { get; set; }

    private string On(int subCategory, string data)
    {
        return CurrentSubCategory == subCategory ? data : "";
    }

    private ItemSubCategory[] drinks =
    {
        ItemSubCategory.Coffee,
        ItemSubCategory.Tea,
        ItemSubCategory.HotChocolate,
        ItemSubCategory.Juice,
        ItemSubCategory.BottledWater
    };

    private ItemSubCategory[] food =
    {
        ItemSubCategory.Sandwich,
        ItemSubCategory.Pastry,
        ItemSubCategory.Snack
    };

    private class SubCategoryView
    {
        public ItemSubCategory SubCategory { get; set; }
    }
}